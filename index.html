<!doctype html>
<html lang="en">
<head>
  <title>time well spent, or "i do not own this song, all rights go to the owners of this song"</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="viewport" content="height=1920, width=1080">
</head>
<body>

<!-- this was made by
  /\_\     __    ___     ___
  \/\ \  /'__`\/' _ `\ /' _ `\
   \ \ \/\  __//\ \/\ \/\ \/\ \
   _\ \ \ \____\ \_\ \_\ \_\ \_\
  /\ \_\ \/____/\/_/\/_/\/_/\/_/
  \ \____/
   \/___/
   ___ ___     ___     ___      __   __  __
 /' __` __`\  / __`\ /' _ `\  /'__`\/\ \/\ \
 /\ \/\ \/\ \/\ \L\ \/\ \/\ \/\  __/\ \ \_\ \
 \ \_\ \_\ \_\ \____/\ \_\ \_\ \____\\/`____ \
  \/_/\/_/\/_/\/___/  \/_/\/_/\/____/ `/___/> \
                                         /\___/
                                         \/__/
   __          ___    ___
  /\ \        /\_ \  /\_ \
  \_\ \    ___\//\ \ \//\ \      __     _ __   ____
  /'_` \  / __`\\ \ \  \ \ \   /'__`\  /\`'__\/',__\
 /\ \L\ \/\ \L\ \\_\ \_ \_\ \_/\ \L\.\_\ \ \//\__, `\
 \ \___,_\ \____//\____\/\____\ \__/.\_\\ \_\\/\____/
  \/__,_ /\/___/ \/____/\/____/\/__/\/_/ \/_/ \/___/

  jennmoney.biz -->

  <div id="frame">
    <img id="me" src="assets/selfie.png" />
    <iframe id="karaoke" width="450" height="300" frameborder="0" allowfullscreen></iframe>
  </div>

  <script type="text/javascript">
  var frame = document.getElementById('frame');
  var karaoke = document.getElementById('karaoke');

  /* helper functions */
  var getRandomNumber = function(min, max) {
    return Math.floor(Math.random() * (max - min) + min);
  };

  var getUniqueRandomNumberArray = function(min, max, length) {
    var arr = [];
    for (var i = 0; i < length; i++) {
      var numberChosen = false;
      do {
        var randNum = getRandomNumber(min, max);
        if (arr.indexOf(randNum) === -1) {
          arr.push(randNum);
          numberChosen = true;
        }
      }
      while ( numberChosen === false )
    }
    return arr;
  };

  var setGradient = function(elem) {
    var randNumArray = getUniqueRandomNumberArray(0, 256, 6);
    elem.style.background = '-webkit-linear-gradient( 0deg, ' +
      'rgb(' + randNumArray[0] + ', ' + randNumArray[1] + ', ' + randNumArray[2] + ')' +
      ', ' +
      'rgb(' + randNumArray[3] + ', ' + randNumArray[4] + ', ' + randNumArray[5] + ')' +
      ')';
  };

  var startNewKaraoke = function() {
    const video = karaoke.cloneNode(true);
    const videoIndex = getRandomNumber(0, 20);
    video.style.top = getRandomNumber(0, frame.clientHeight) + 'px';
    video.style.left = getRandomNumber(0, frame.clientWidth) + 'px';
    video.setAttribute('src', 'https://www.youtube.com/embed/T_lJ0EoiEx4?list=PL0hmC7jyckDs1tAY7XmtaP5ijiewjfDxD&autoplay=1&loop=1&controls=0&index=' + videoIndex);
    frame.appendChild(video);
  }

  var endAKaraoke = function() {
    const karaokes = document.getElementsByTagName('iframe');
    const randomKaraoke = getRandomNumber(0, karaokes.length - 1);
    frame.removeChild(karaokes[randomKaraoke]);
  }

  /* init drawing */
  setGradient(frame);

  /* intervals */
  var backdropInterval = window.setInterval(function() {
    setGradient(frame);
    startNewKaraoke();

    const rollDice = getRandomNumber(0, 11);
    if ( !rollDice ) {
      endAKaraoke();
    }
  }, 30000);

  </script>
</body>
</html>
